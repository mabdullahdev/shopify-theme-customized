{%- doc -%}
  Renders a category card for shop's categories section.

  @param {object} block - The block object
  @param {object} section - The section object
  @param {number} index - The index of the card
  @param {string} text_style - 'below' or 'overlay'
  @param {boolean} show_arrow - Whether to show arrow on hover
{%- enddoc -%}

{% liquid
  assign image = block.settings.image
  assign card_class = 'shop-categories__card'
  if text_style == 'overlay'
    assign card_class = card_class | append: ' shop-categories__card--overlay'
  endif
%}

<a
  class="{{ card_class }}"
  href="{{ block.settings.link | default: '#' }}"
  {{ block.shopify_attributes }}
>
  <div class="shop-categories__media{% if image == blank %} shop-categories__media--placeholder{% endif %}">
    {% if image != blank %}
      {{ image | image_url: width: 800 | image_tag:
        loading: 'lazy',
        widths: '300, 400, 600, 800',
        sizes: '(min-width: 1000px) 33vw, (min-width: 750px) 50vw, 65vw',
        alt: block.settings.title
      }}
    {% else %}
      <div class="shop-categories__placeholder">
        <span class="shop-categories__placeholder-label">
          {{ block.settings.title | default: 'Category' }}
        </span>
      </div>
    {% endif %}
  </div>

  <div class="shop-categories__label">
    <span class="shop-categories__name">
      {{ block.settings.title }}
    </span>
    {% if show_arrow %}
      <span class="shop-categories__arrow">
        <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M4 9H14M14 9L10 5M14 9L10 13" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </span>
    {% endif %}
  </div>
</a>
